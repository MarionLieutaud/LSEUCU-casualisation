group = colour2, colour = colour2),
nudge_x = 0.2, hjust = 0, family = "Arial Narrow", fontface = "bold", size = 3.5,
segment.color = "grey93", direction = "y") +
labs(title = "Proportion of international students",
caption = "Source: HESA (annual data 2014-2022) https://www.hesa.ac.uk/data-and-analysis.\nThe nine comparators chosen are the universities above LSE in the 2022 QS Rankings\n(Oxford, Cambridge, Imperial, UCL, Edinburgh, KCL) and the three immediately below it (Warwick, Bristol, Glasgow).") +
personal_theme_simple
p7
#ggsave(p7, filename = "plot_HESA_nonUKstudent_ratio.png", width = 6, height = 5) # save plot
tab_int_long <- h_subset_uni %>%
filter(date == "2021-2022") %>%
select(HE.provider.short, prop_non_uk, prop_eu) %>%
mutate(prop_nonuk_noneu = prop_non_uk - prop_eu) %>%
pivot_longer(cols = !c(HE.provider.short, prop_non_uk),
names_to = c("prop")
)
p8 <- ggplot(tab_int_long, aes(x=fct_reorder(HE.provider.short, value), y=value, fill = fct_rev(prop))) +
geom_col(stat = "stacked", width = 0.6) +
coord_flip() +
scale_fill_manual(labels = c("Other international students", "EU students"),
values = c(BLUE, "lightblue")) +
scale_y_continuous(breaks = seq(0, 70, by = 10),
expand = expand_scale(mult = c(0, .10)),
position = "right") +
labs(title = "% of international students (EU + non-EU)",
subtitle = "out of all enrolled students in 2021-2022",
fill = NULL,
caption = "Source: HESA (annual data 2014-2022) https://www.hesa.ac.uk/data-and-analysis.\n The percentage in white is the total proportion of non-UK students (EU + non-EU).\nThe nine comparators chosen are the universities above LSE in the 2022 QS Rankings\n(Oxford, Cambridge, Imperial, UCL, Edinburgh, KCL) and the three immediately below it (Warwick, Bristol, Glasgow).") +
guides(fill = guide_legend(reverse = TRUE)) +
personal_theme_flipped_barplot
# add labels outside bars
p8 <- p8 + geom_text(
data = tab_int_long %>% filter(prop == "prop_nonuk_noneu"),
aes(y=prop_non_uk, x = HE.provider.short, label = paste0(prop_non_uk, "%")),
#vjust = 1,
nudge_y = 2,
colour = BLUE,
family = "Arial Narrow",
fontface = "bold",
size = 4)
# add labels inside bars
p8 <- p8 + geom_text(
data = tab_int_long %>% filter(prop == "prop_eu"),
aes(y=value, x = HE.provider.short, label = paste0(value, "%")),
#vjust = 1,
nudge_y = -2,
colour = BLUE,
family = "Arial Narrow",
fontface = "bold",
size = 3)
p8
#ggsave(p9, filename = "plot_HESA_nonUKstudent_barplot.png", width = 6, height = 5) # save plot
library(openxlsx)
a <- loadWorkbook('~/Dropbox (Personal)/LSE UCU/Casualisation data/230323_UCU_TERMS_Data.xlsx')
sheetNames <- sheets(a)
for(i in 1:length(sheetNames))
{
assign(sheetNames[i],readWorkbook(a,sheet = i))
}
hr <- Data # rename "Data" sheetname to "hr"
rm(Data)
hr <- hr %>%
rename("academic_year" = "Recid.Text",
"level" = "Level.2.Long.Desc",
"employment_terms" = "Terms.Text")
hr <- hr %>%
mutate(academic_year = str_remove(academic_year, " Staff record"), # keep only date
academic_year = str_replace(academic_year, "/", "-20"),
staff_category = case_when(
Staff.Type %in% c("Emeritus Teacher", "Extended Education", "Graduate Intern", "Support") ~ "Non-academic positions",
Staff.Type == "Graduate Teaching Assistant" ~ "GTA (PhD students)",
Staff.Type %in% c("Guest Teacher", "LSE fellows", "Policy", "Research", "Teaching", "Teaching and Research") ~ "Academic positions"),
employment_terms2 = case_when(
employment_terms %in% c("Atypical", "Fixed-term", "Open-ended/Subject to Funding") ~ "fixed-term",
employment_terms == "Open-ended/Permanent" ~ "permanent"),
academic_employment = case_when(
staff_category %in% c("Academic positions", "GTA (PhD students)") & employment_terms2 == "fixed-term" ~ "Academic (fixed-term)",
staff_category == "Academic positions" & employment_terms2 == "permanent" ~ "Academic (permanent)"))
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100)
tab2 <- data.frame(academic_year = c("2014-2015", "2015-2016")) # add rows for years pictured in HESA data but not in LSE data
tab <- bind_rows(tab2, tab)
p <- tab %>% ggplot(aes(x=academic_year, y=sum, group=academic_employment)) +
geom_point(aes(colour=academic_employment)) +
geom_line(aes(colour=academic_employment)) +
#scale_x_discrete(expand = expand_scale(mult = c(.05, .55))) +
#scale_y_continuous(labels = scales::percent_format(scale = 1), breaks = seq(0,100,10), limits = c(0,100)) +
scale_y_continuous(limits = c(690, 1040)) +
scale_color_manual(values = c("darkred", "black"), name="Contract type: ", na.translate = F) +
labs(title = "Number of fixed-term and permanent academic staff at LSE (LSE HR internal data)",
caption = "Source: LSE internal HR data") +
personal_theme_simple
p
#ggsave(p, filename = "plot_LSEHR_nbstaff.png", width = 6.5, height = 4) # save plot
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded))
tab2 <- data.frame(academic_year = c("2016-2017", "2017-2018"),
Staff.Type = c("Guest Teacher", "Guest Teacher"),
sum = c(0, 0)) # add rows with zero permanent positions for guest teachers prior to 2018-2019
# we assume it is zero since no guest teachers appear among permanent academic staff prior to 2018-2018
tab <- bind_rows(tab2, tab)
#lagged values to calculate change
tab <- tab %>%
group_by(Staff.Type) %>%
filter(!Staff.Type == "Policy") %>% # remove this empty category
mutate(sum_previous_year = lag(sum, n=1),
absolute_change = sum - sum_previous_year,
total_change = (sum[academic_year == "2021-2022"]) - (sum[academic_year == "2016-2017"]),
categorical_change = case_when(
absolute_change > 0 ~ "increase",
absolute_change == 0 ~ "no change",
absolute_change < 0 ~ "decrease"),
categorical_change = factor(categorical_change, levels = c("increase", "decrease", "no change")),
staff_type = recode(Staff.Type,
"Guest Teacher" = "Guest teachers\n(permanent only)",
"Research" = "Research-only",
"Teaching" = "Teaching-only\n(Education-track)",
"Teaching and Research" = "Teaching and research"),
staff_type = factor(staff_type, levels = c("Teaching and research",
"Guest teachers\n(permanent only)",
"Research-only",
"Teaching-only\n(Education-track)")))
#lollipop plot 1: year-by-year
lolliplot1 <- ggplot(tab, aes(x=academic_year, y=absolute_change, colour = categorical_change, group = staff_type)) +
geom_hline(aes(yintercept=0), colour = "black") +
geom_segment(aes(x=academic_year, xend=academic_year, y=0, yend=absolute_change, color = categorical_change)) +
geom_point(aes(color=categorical_change), size=2) +
facet_wrap(~ staff_type) +
scale_color_manual(values = c("black", "red", "grey"), name="Change (absolute numbers)", na.translate = F) +
scale_y_continuous(breaks = seq(-20, 20, by= 10)) +
personal_theme_simple_facets +
theme(legend.position = "none") +
xlab("") +
labs(title = "Yearly change (absolute terms) in permanent academic staff numbers by staff category (LSE HR internal data)",
caption = "Source: LSE internal HR data (2023)")
lolliplot1
#ggsave(lolliplot1, filename = "lolliplot_LSEHR_changepermanentstaff.png", width = 6, height = 7) # save plot
# lollipop plot 2: change over the period
tab2 <- tab %>% filter(academic_year == "2021-2022")
tab3 <- tab2 %>%
ungroup() %>%
add_row(staff_type = "All combined", total_change = sum(tab2$total_change)) %>%
mutate(categorical_change = case_when(
total_change > 0 ~ "increase",
total_change < 0 ~ "decrease"),
categorical_change = factor(categorical_change, levels = c("increase", "decrease")),
staff_type = factor(staff_type, levels = c("Teaching and research",
"Guest teachers\n(permanent only)",
"Research-only",
"Teaching-only\n(Education-track)",
"All combined")))
lolliplot2 <- ggplot(tab3, aes(x=staff_type, y=total_change, colour = categorical_change)) +
geom_hline(aes(yintercept=0), colour = "black") +
geom_segment(aes(x=staff_type, xend=staff_type, y=0, yend=total_change, color = categorical_change)) +
geom_point(aes(color=categorical_change), size=2) +
scale_color_manual(values = c("black", "red")) +
scale_y_continuous(limits = c(-80, 50)) +
personal_theme_simple +
theme(legend.position = "none")+
xlab("") +
labs(title = "Overall change (absolute terms) in permanent academic staff numbers\nby staff category between 2016-2017 and 2021-2022",
caption = "Source: LSE internal HR data (2023)") +
geom_text(
data = tab3,
aes(y = ifelse(total_change > 0, total_change, (total_change -15)),
x = staff_type,
label = ifelse(total_change > 0, paste0("+", total_change), total_change),
colour = categorical_change),
vjust = -1,
#nudge_y = 2,
family = "Arial Narrow",
fontface = "bold",
size = 4)
lolliplot2
#ggsave(lolliplot2, filename = "lolliplot_LSEHR_combinedchangepermanent.png", width = 5, height = 5) # save plot
knitr::include_graphics('~/Dropbox (Personal)/LSE UCU/Casualisation data/Q_future_plot.png')
# Insecurity
#Mental heath issues are endemic among respondents, as is overwork (working regularly in the evenings, at the weekend, on vacation) and anxiety linked to professional insecurity.
#There is a difference of close to 10 percentage points between those on short contracts (52% constant anxiety) and those on longer contracts (44% constant anxiety). The overwhelming majority of survey respondents **(92%) are affirmative that they will not get a permanent position at LSE**: 69% think it ‘very unlikely’ and a further 23% deem it ‘unlikely’.
hr <- hr %>%
mutate(academic_year = str_remove(academic_year, " Staff record"), # keep only date
academic_year = str_replace(academic_year, "/", "-20"),
staff_category = case_when(
Staff.Type %in% c("Emeritus Teacher", "Extended Education", "Graduate Intern", "Support") ~ "Non-academic positions",
Staff.Type == "Graduate Teaching Assistant" ~ "GTA (PhD students)",
Staff.Type %in% c("Guest Teacher", "LSE fellows", "Policy", "Research", "Teaching", "Teaching and Research") ~ "Academic positions"),
employment_terms2 = case_when(
employment_terms %in% c("Fixed-term", "Open-ended/Subject to Funding") ~ "fixed-term",
employment_terms == "Open-ended/Permanent" ~ "permanent"),
academic_employment = case_when(
staff_category %in% c("Academic positions", "GTA (PhD students)") & employment_terms2 == "fixed-term" ~ "Academic (fixed-term)",
staff_category == "Academic positions" & employment_terms2 == "permanent" ~ "Academic (permanent)"))
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100)
hr <- hr %>%
mutate(academic_year = str_remove(academic_year, " Staff record"), # keep only date
academic_year = str_replace(academic_year, "/", "-20"),
staff_category = case_when(
Staff.Type %in% c("Emeritus Teacher", "Extended Education", "Graduate Intern", "Support") ~ "Non-academic positions",
Staff.Type == "Graduate Teaching Assistant" ~ "GTA (PhD students)",
Staff.Type %in% c("Guest Teacher", "LSE fellows", "Policy", "Research", "Teaching", "Teaching and Research") ~ "Academic positions"),
employment_terms2 = case_when(
employment_terms %in% c("Fixed-term", "Open-ended/Subject to Funding") ~ "fixed-term",
employment_terms == "Open-ended/Permanent" ~ "permanent",
employment_terms == "Atypical" ~ "atypical"),
academic_employment = case_when(
staff_category %in% c("Academic positions", "GTA (PhD students)") & employment_terms2 == "fixed-term" ~ "Academic (fixed-term)",
staff_category == "Academic positions" & employment_terms2 == "permanent" ~ "Academic (permanent)",
staff_category == "Academic positions" & employment_terms2 == "atypical" ~ "Academic (atypical)"))
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab
tab <- hr %>%
group_by(academic_year, employment_terms) %>%
summarise(sum = sum(Headcount.Rounded))
tab
tab <- hr %>%
filter(staff_category == "Non-academic positions") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded))
tab
tab <- hr %>%
filter(staff_category == "Non-academic positions") %>%
group_by(academic_year, Staff.Type, employment_terms) %>%
summarise(sum = sum(Headcount.Rounded))
tab
tab <- hr %>%
filter(academic_year == "2021-2022") %>%
group_by(Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded))
tab
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded)) %>%
add_row(academic_year = "2016-2017",  Staff.Type = "Guest Teacher", sum = 0) %>%
add_row(academic_year = "2017-2018",  Staff.Type = "Guest Teacher", sum = 0)
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded)) %>%
ungroup() %>%
add_row(academic_year = "2016-2017",  Staff.Type = "Guest Teacher", sum = 0) %>%
add_row(academic_year = "2017-2018",  Staff.Type = "Guest Teacher", sum = 0)
tab
#lagged values to calculate change
tab <- tab %>%
group_by(Staff.Type) %>%
filter(!Staff.Type == "Policy") %>% # remove this empty category
mutate(sum_previous_year = lag(sum, n=1),
absolute_change = sum - sum_previous_year,
total_change = (sum[academic_year == "2021-2022"]) - (sum[academic_year == "2016-2017"]),
categorical_change = case_when(
absolute_change > 0 ~ "increase",
absolute_change == 0 ~ "no change",
absolute_change < 0 ~ "decrease"),
categorical_change = factor(categorical_change, levels = c("increase", "decrease", "no change")),
staff_type = recode(Staff.Type,
"Guest Teacher" = "Guest teachers\n(permanent only)",
"Research" = "Research-only",
"Teaching" = "Teaching-only\n(Education-track)",
"Teaching and Research" = "Teaching and research"),
staff_type = factor(staff_type, levels = c("Teaching and research",
"Guest teachers\n(permanent only)",
"Research-only",
"Teaching-only\n(Education-track)")))
#lollipop plot 1: year-by-year
lolliplot1 <- ggplot(tab, aes(x=academic_year, y=absolute_change, colour = categorical_change, group = staff_type)) +
geom_hline(aes(yintercept=0), colour = "black") +
geom_segment(aes(x=academic_year, xend=academic_year, y=0, yend=absolute_change, color = categorical_change)) +
geom_point(aes(color=categorical_change), size=2) +
facet_wrap(~ staff_type) +
scale_color_manual(values = c("black", "red", "grey"), name="Change (absolute numbers)", na.translate = F) +
scale_y_continuous(breaks = seq(-20, 20, by= 10)) +
personal_theme_simple_facets +
theme(legend.position = "none") +
xlab("") +
labs(title = "Yearly change (absolute terms) in permanent academic staff numbers by staff category (LSE HR internal data)",
caption = "Source: LSE internal HR data (2023)")
lolliplot1
tab
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded)) %>%
ungroup() %>%
add_row(academic_year = "2016-2017",  Staff.Type = "Guest Teacher", sum = 0, .before=0) %>%
add_row(academic_year = "2017-2018",  Staff.Type = "Guest Teacher", sum = 0)
tab
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded)) %>%
ungroup() %>%
add_row(academic_year = "2016-2017",  Staff.Type = "Guest Teacher", sum = 0, .before=0) %>%
add_row(academic_year = "2017-2018",  Staff.Type = "Guest Teacher", sum = 0, .before=1)
tab
tab <- hr %>%
filter(!staff_category == "Non-academic positions", academic_employment == "Academic (permanent)") %>%
group_by(academic_year, Staff.Type) %>%
summarise(sum = sum(Headcount.Rounded)) %>%
ungroup() %>%
add_row(academic_year = "2017-2018",  Staff.Type = "Guest Teacher", sum = 0, .before=0) %>%
add_row(academic_year = "2016-2017",  Staff.Type = "Guest Teacher", sum = 0, .before=0)
#lagged values to calculate change
tab <- tab %>%
group_by(Staff.Type) %>%
filter(!Staff.Type == "Policy") %>% # remove this empty category
mutate(sum_previous_year = lag(sum, n=1),
absolute_change = sum - sum_previous_year,
total_change = (sum[academic_year == "2021-2022"]) - (sum[academic_year == "2016-2017"]),
categorical_change = case_when(
absolute_change > 0 ~ "increase",
absolute_change == 0 ~ "no change",
absolute_change < 0 ~ "decrease"),
categorical_change = factor(categorical_change, levels = c("increase", "decrease", "no change")),
staff_type = recode(Staff.Type,
"Guest Teacher" = "Guest teachers\n(permanent only)",
"Research" = "Research-only",
"Teaching" = "Teaching-only\n(Education-track)",
"Teaching and Research" = "Teaching and research"),
staff_type = factor(staff_type, levels = c("Teaching and research",
"Guest teachers\n(permanent only)",
"Research-only",
"Teaching-only\n(Education-track)")))
#lollipop plot 1: year-by-year
lolliplot1 <- ggplot(tab, aes(x=academic_year, y=absolute_change, colour = categorical_change, group = staff_type)) +
geom_hline(aes(yintercept=0), colour = "black") +
geom_segment(aes(x=academic_year, xend=academic_year, y=0, yend=absolute_change, color = categorical_change)) +
geom_point(aes(color=categorical_change), size=2) +
facet_wrap(~ staff_type) +
scale_color_manual(values = c("black", "red", "grey"), name="Change (absolute numbers)", na.translate = F) +
scale_y_continuous(breaks = seq(-20, 20, by= 10)) +
personal_theme_simple_facets +
theme(legend.position = "none") +
xlab("") +
labs(title = "Yearly change (absolute terms) in permanent academic staff numbers by staff category (LSE HR internal data)",
caption = "Source: LSE internal HR data (2023)")
lolliplot1
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
hr <- hr %>%
mutate(academic_year = str_remove(academic_year, " Staff record"), # keep only date
academic_year = str_replace(academic_year, "/", "-20"),
staff_category = case_when(
Staff.Type %in% c("Emeritus Teacher", "Extended Education", "Graduate Intern", "Support") ~ "Non-academic positions",
Staff.Type == "Graduate Teaching Assistant" ~ "GTA (PhD students)",
Staff.Type %in% c("Guest Teacher", "LSE fellows", "Policy", "Research", "Teaching", "Teaching and Research") ~ "Academic positions"),
employment_terms2 = case_when(
employment_terms %in% c("Fixed-term", "Open-ended/Subject to Funding") ~ "fixed-term",
employment_terms == "Open-ended/Permanent" ~ "permanent"),
academic_employment = case_when(
staff_category %in% c("Academic positions", "GTA (PhD students)") & employment_terms2 == "fixed-term" ~ "Academic (fixed-term)",
staff_category == "Academic positions" & employment_terms2 == "permanent" ~ "Academic (permanent)"))
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
add_row(academic_year = "2015-2016", .before=0)
tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100)
hr <- hr %>%
mutate(academic_year = str_remove(academic_year, " Staff record"), # keep only date
academic_year = str_replace(academic_year, "/", "-20"),
staff_category = case_when(
Staff.Type %in% c("Emeritus Teacher", "Extended Education", "Graduate Intern", "Support") ~ "Non-academic positions",
Staff.Type == "Graduate Teaching Assistant" ~ "GTA (PhD students)",
Staff.Type %in% c("Guest Teacher", "LSE fellows", "Policy", "Research", "Teaching", "Teaching and Research") ~ "Academic positions"),
employment_terms2 = case_when(
employment_terms %in% c("Fixed-term", "Open-ended/Subject to Funding") ~ "fixed-term",
employment_terms == "Open-ended/Permanent" ~ "permanent"),
employment_terms2 = factor(employment_terms2, levels = c("fixed-term", "permanent")),
academic_employment = case_when(
staff_category %in% c("Academic positions", "GTA (PhD students)") & employment_terms2 == "fixed-term" ~ "Academic (fixed-term)",
staff_category == "Academic positions" & employment_terms2 == "permanent" ~ "Academic (permanent)"))
tab <- hr %>%
filter(!staff_category == "Non-academic positions") %>%
group_by(academic_year, academic_employment) %>%
summarise(sum = sum(Headcount.Rounded))
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
total_permanent_academic = sum[academic_employment == "Academic (permanent)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
ungroup() %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab <- tab %>%
group_by(academic_year) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)", na.rm = T],
total_permanent_academic = sum[academic_employment == "Academic (permanent)", na.rm=T],
prop_casual = (total_casual_academic/total_academic)*100) %>%
ungroup() %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab %>%
group_by(academic_year)
tab <- tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment)) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)", na.rm = T],
total_permanent_academic = sum[academic_employment == "Academic (permanent)", na.rm=T],
prop_casual = (total_casual_academic/total_academic)*100) %>%
ungroup() %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment))
tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment)) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)", na.rm = T],
total_permanent_academic = sum[academic_employment == "Academic (permanent)", na.rm=T],
prop_casual = (total_casual_academic/total_academic)*100)
tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment))
tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment)) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
prop_casual = (total_casual_academic/total_academic)*100)
tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment)) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
ungroup() %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
tab <- tab %>%
group_by(academic_year) %>%
filter(!is.na(academic_employment)) %>%
mutate(total_academic = sum(sum),
total_casual_academic = sum[academic_employment == "Academic (fixed-term)"],
prop_casual = (total_casual_academic/total_academic)*100) %>%
ungroup() %>%
add_row(academic_year = "2015-2016", .before=0) %>%
add_row(academic_year = "2014-2015", .before=0)
p <- tab %>% ggplot(aes(x=academic_year, y=sum, group=academic_employment)) +
geom_point(aes(colour=academic_employment)) +
geom_line(aes(colour=academic_employment)) +
#scale_x_discrete(expand = expand_scale(mult = c(.05, .55))) +
#scale_y_continuous(labels = scales::percent_format(scale = 1), breaks = seq(0,100,10), limits = c(0,100)) +
scale_y_continuous(limits = c(690, 1040)) +
scale_color_manual(values = c("darkred", "black"), name="Contract type: ", na.translate = F) +
labs(title = "Number of fixed-term and permanent academic staff at LSE (LSE HR internal data)",
caption = "Source: LSE internal HR data") +
personal_theme_simple
p
